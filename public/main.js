function getTime(){var t=new Date;return[t.getHours(),t.getMinutes(),t.getSeconds()]}function tick(t){rects=svg.selectAll("rect").data(t).transition().attr("x",function(t,e){return xScale(e)}).attr("y",function(t){return yScale(t)}).attr("width",xScale.rangeBand()).attr("height",function(t){return svgHeight-yScale(t)}).style("fill",blue)}var time=getTime(),svgWidth=250,svgHeight=200,margin={top:20,right:30,bottom:30,left:40},clock=".clock",blue="hsl(221, 85%, 22%)",barPadding=.2,width=svgWidth/time.length,maximumTime=[-1,60],yScale=d3.scale.linear().domain(maximumTime).range([svgHeight,-1]),xScale=d3.scale.ordinal().domain(time.map(function(t,e){return e})).rangeBands([0,svgWidth],barPadding),svg=d3.select(clock).append("svg").attr("height",svgHeight+margin.top+margin.bottom+"px").attr("width",svgWidth+margin.left+margin.right+"px").style("margin-left",-margin.left+"px").append("g").attr("transform","translate("+margin.left+","+margin.top+")"),rects=svg.selectAll("rect").data(time).enter().append("rect");tick(time),setInterval(function(){var t=getTime();tick(t),console.log(t)},1e3);